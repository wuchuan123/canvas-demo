{"version":3,"sources":["main.js"],"names":["canvas","document","getElementById","width","documentElement","clientWidth","height","clientHeight","ctx","getContext","fillStyle","strokeStyle","lineWidth","lineCap","painting","last","autoSetCanvasSize","listenToMouse","eraserEnable","eraser","onclick","classList","add","brush","remove","black","red","yellow","green","blue","clear","clearRect","big","middle","small","download","url","toDataURL","console","log","a","createElement","body","appendChild","href","target","click","usingMouse","lastPoint","undefined","ontouchstart","x","touches","clientX","y","clientY","ontouchmove","newPoint","drawLine","ontouchend","onmousedown","onmousemove","onmouseup","x1","y1","x2","y2","beginPath","moveTo","lineTo","stroke","resize","window","onresize","pageWidth","pageHeight"],"mappings":"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ACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["let canvas = document.getElementById(\"canvas\");\r\ncanvas.width = document.documentElement.clientWidth;\r\ncanvas.height = document.documentElement.clientHeight;\r\nlet ctx = canvas.getContext(\"2d\");\r\nctx.fillStyle = \"black\";\r\nctx.strokeStyle = \"none\";\r\nlet lineWidth = 20;\r\nctx.lineCap = \"round\";\r\n\r\nlet painting = false;\r\nlet last;\r\n\r\nautoSetCanvasSize(canvas)\r\nlistenToMouse(canvas)\r\n\r\n\r\n\r\nvar eraserEnable = false   //橡皮擦画笔切换\r\n  eraser.onclick=function (){ \r\n    eraserEnable = true\r\n    eraser.classList.add('active')\r\n    brush.classList.remove('active')\r\n}\r\nbrush.onclick=function (){\r\n    eraserEnable = false\r\n    brush.classList.add('active')\r\n    eraser.classList.remove('active')\r\n}\r\n\r\nblack.onclick=function(){\r\n  ctx.fillStyle = 'black'\r\n  ctx.strokeStyle = 'black'\r\n  black.classList.add('active')\r\n  red.classList.remove('active')\r\n  yellow.classList.remove('active')\r\n  green.classList.remove('active')\r\n  blue.classList.remove('active')\r\n}\r\nred.onclick=function(){\r\n  ctx.fillStyle = 'red'\r\n  ctx.strokeStyle = 'red'\r\n  black.classList.remove('active')\r\n  red.classList.add('active')\r\n  yellow.classList.remove('active')\r\n  green.classList.remove('active')\r\n  blue.classList.remove('active')\r\n}\r\nyellow.onclick=function(){\r\n  ctx.fillStyle = 'yellow'\r\n  ctx.strokeStyle = 'yellow'\r\n  black.classList.remove('active')\r\n  red.classList.remove('active')\r\n  yellow.classList.add('active')\r\n  green.classList.remove('active')\r\n  blue.classList.remove('active')\r\n}\r\ngreen.onclick=function(){\r\n  ctx.fillStyle = 'green'\r\n  ctx.strokeStyle = 'green'\r\n  black.classList.remove('active')\r\n  red.classList.remove('active')\r\n  yellow.classList.remove('active')\r\n  green.classList.add('active')\r\n  blue.classList.remove('active')\r\n}\r\nblue.onclick=function(){\r\n  ctx.fillStyle = 'blue'\r\n  ctx.strokeStyle = 'blue'\r\n  black.classList.remove('active')\r\n  red.classList.remove('active')\r\n  yellow.classList.remove('active')\r\n  green.classList.remove('active')\r\n  blue.classList.add('active')\r\n}\r\nclear.onclick=function(){\r\n  ctx.clearRect(0, 0, canvas.width,canvas.height);\r\n}\r\n\r\nbig.onclick=function(){\r\n  lineWidth = 15\r\n  big.classList.add('active')\r\n  middle.classList.remove('active') \r\n  small.classList.remove('active')\r\n}\r\nmiddle.onclick=function(){\r\n  lineWidth = 5\r\n  big.classList.remove('active')\r\n  middle.classList.add('active') \r\n  small.classList.remove('active')\r\n}\r\nsmall.onclick=function(){\r\n  lineWidth = 2\r\n  big.classList.remove('active')\r\n  middle.classList.remove('active') \r\n  small.classList.add('active')\r\n}\r\n\r\ndownload.onclick=function(){\r\n  var url = canvas.toDataURL(\"image/png\")\r\n  console.log(url)\r\n  var a = document.createElement('a')\r\n  document.body.appendChild(a)\r\n  a.href = url\r\n  a.download = 'canvas画板.png'\r\n  a.target = '_blank'\r\n  a.click()\r\n}\r\nfunction listenToMouse(canvas){\r\n  var usingMouse = false //鼠标触发时间默认设置false\r\n  var lastPoint = {'x':undefined,'y':undefined} //鼠标最后点击的点坐标初始化\r\n  \r\nif(document.body.ontouchstart !== undefined){  //判断设备是否支持touch事件\r\n\r\n  canvas.ontouchstart = function(a){ //touch开始\r\n    console.log(a)\r\n    var x =a.touches[0].clientX\r\n    var y =a.touches[0].clientY\r\n    usingMouse = true\r\n    if(eraserEnable){\r\n      ctx.clearRect(x-25,y-25,50,50);\r\n    }\r\n    else{\r\n      lastPoint = {'x':x,'y':y}\r\n    }\r\n  }\r\n  canvas.ontouchmove =function(a){  //touch移动\r\n    var x =a.touches[0].clientX\r\n    var y =a.touches[0].clientY\r\n    if(!usingMouse){ return }\r\n\r\n    if(eraserEnable){\r\n      ctx.clearRect(x-10,y-10,20,20);\r\n    }\r\n    else{\r\n        var newPoint ={'x':x,'y':y}\r\n        drawLine(lastPoint.x,lastPoint.y,newPoint.x,newPoint.y)\r\n        lastPoint = newPoint\r\n    }\r\n  }\r\n  canvas.ontouchend =function(){  //touch结束\r\n    usingMouse = false\r\n  }\r\n}\r\nelse{                                 //如果不支持touch事件，则执行鼠标事件\r\n   canvas.onmousedown = function(a){ //鼠标按下事件\r\n     var x =a.clientX\r\n     var y =a.clientY\r\n     usingMouse = true\r\n     if(eraserEnable){\r\n       ctx.clearRect(x-10,y-10,20,20);\r\n     }\r\n     else{\r\n       lastPoint = {'x':x,'y':y}\r\n       // drawPoint(x,y,1)\r\n     }\r\n   }\r\n   canvas.onmousemove =function(a){  //鼠标移动事件\r\n     var x =a.clientX\r\n     var y =a.clientY\r\n     if(!usingMouse){ return }\r\n\r\n     if(eraserEnable){\r\n       ctx.clearRect(x-10,y-10,20,20);\r\n     }\r\n     else{\r\n         var newPoint ={'x':x,'y':y}\r\n         // drawPoint(x,y,1)\r\n         drawLine(lastPoint.x,lastPoint.y,newPoint.x,newPoint.y)\r\n         lastPoint = newPoint\r\n     }\r\n   }\r\n   canvas.onmouseup =function(){  //鼠标松开事件\r\n     usingMouse = false\r\n   }\r\n  }\r\n} \r\n\r\nfunction drawLine(x1, y1, x2, y2) {\r\n  ctx.beginPath();\r\n  ctx.moveTo(x1, y1);\r\n  ctx.lineWidth = lineWidth\r\n  ctx.lineTo(x2, y2);\r\n  ctx.stroke();\r\n}\r\n// function drawPoint(x,y,radius){\r\n//   ctx.beginPath()\r\n//   ctx.arc(x,y,radius,0,Math.PI*2)\r\n//   ctx.fill()\r\n// }\r\n\r\n// function drawLine(x1,y1,x2,y2){\r\n//   ctx.beginPath()\r\n//   ctx.moveTo(x1,y1)\r\n//   ctx.lineWidth = lineWidth\r\n//   ctx.lineTo(x2,y2)\r\n//   ctx.stroke()\r\n//   ctx.closePath() \r\n// }\r\n\r\nfunction autoSetCanvasSize(canvas){ //全屏函数\r\n  resize()\r\n  window.onresize = function(){  \r\n    resize()\r\n  }\r\n  function resize(){\r\n    var pageWidth = document.documentElement.clientWidth\r\n    var pageHeight = document.documentElement.clientHeight\r\n    canvas.width = pageWidth\r\n    canvas.height = pageHeight\r\n  }\r\n}\r\n\r\n\r\n\r\n// var eraserEnable = false   //橡皮擦画笔切换\r\n//   eraser.onclick=function (){ \r\n//     eraserEnable = true\r\n//     eraser.classList.add('active')\r\n//     brush.classList.remove('active')\r\n// }\r\n// brush.onclick=function (){\r\n//     eraserEnable = false\r\n//     brush.classList.add('active')\r\n//     eraser.classList.remove('active')\r\n// }\r\n// black.onclick=function(){\r\n//   ctx.fillStyle = 'black'\r\n//   ctx.strokeStyle = 'black'\r\n//   black.classList.add('active')\r\n//   red.classList.remove('active')\r\n//   yellow.classList.remove('active')\r\n//   green.classList.remove('active')\r\n//   blue.classList.remove('active')\r\n// }\r\n// red.onclick=function(){\r\n//   ctx.fillStyle = 'red'\r\n//   ctx.strokeStyle = 'red'\r\n//   black.classList.remove('active')\r\n//   red.classList.add('active')\r\n//   yellow.classList.remove('active')\r\n//   green.classList.remove('active')\r\n//   blue.classList.remove('active')\r\n// }\r\n// yellow.onclick=function(){\r\n//   ctx.fillStyle = 'yellow'\r\n//   ctx.strokeStyle = 'yellow'\r\n//   black.classList.remove('active')\r\n//   red.classList.remove('active')\r\n//   yellow.classList.add('active')\r\n//   green.classList.remove('active')\r\n//   blue.classList.remove('active')\r\n// }\r\n// green.onclick=function(){\r\n//   ctx.fillStyle = 'green'\r\n//   ctx.strokeStyle = 'green'\r\n//   black.classList.remove('active')\r\n//   red.classList.remove('active')\r\n//   yellow.classList.remove('active')\r\n//   green.classList.add('active')\r\n//   blue.classList.remove('active')\r\n// }\r\n// blue.onclick=function(){\r\n//   ctx.fillStyle = 'blue'\r\n//   ctx.strokeStyle = 'blue'\r\n//   black.classList.remove('active')\r\n//   red.classList.remove('active')\r\n//   yellow.classList.remove('active')\r\n//   green.classList.remove('active')\r\n//   blue.classList.add('active')\r\n// }\r\n// clear.onclick=function(){\r\n//   ctx.clearRect(0, 0, canvas.width,canvas.height);\r\n// }\r\n// big.onclick=function(){\r\n//   lineWidth = 8\r\n//   big.classList.add('active')\r\n//   middle.classList.remove('active') \r\n//   small.classList.remove('active')\r\n// }\r\n// middle.onclick=function(){\r\n//   lineWidth = 5\r\n//   big.classList.remove('active')\r\n//   middle.classList.add('active') \r\n//   small.classList.remove('active')\r\n// }\r\n// small.onclick=function(){\r\n//   lineWidth = 2\r\n//   big.classList.remove('active')\r\n//   middle.classList.remove('active') \r\n//   small.classList.add('active')\r\n// }\r\n// download.onclick=function(){\r\n//   var url = canvas.toDataURL(\"image/png\")\r\n//   console.log(url)\r\n//   var a = document.createElement('a')\r\n//   document.body.appendChild(a)\r\n//   a.href = url\r\n//   a.download = 'canvas画板.png'\r\n//   a.target = '_blank'\r\n//   a.click()\r\n// }\r\n\r\n// function listenToMouse(canvas){\r\n//   var usingMouse = false //鼠标触发时间默认设置false\r\n//   var lastPoint = {'x':undefined,'y':undefined} //鼠标最后点击的点坐标初始化\r\n  \r\n// if(document.body.ontouchstart !== undefined){  //判断设备是否支持touch事件\r\n\r\n//   canvas.ontouchstart = function(a){ //touch开始\r\n//     console.log(a)\r\n//     var x =a.touches[0].clientX\r\n//     var y =a.touches[0].clientY\r\n//     usingMouse = true\r\n//     if(eraserEnable){\r\n//       ctx.clearRect(x-25,y-25,50,50);\r\n//     }\r\n//     else{\r\n//       lastPoint = {'x':x,'y':y}\r\n//     }\r\n//   }\r\n//   canvas.ontouchmove =function(a){  //touch移动\r\n//     var x =a.touches[0].clientX\r\n//     var y =a.touches[0].clientY\r\n//     if(!usingMouse){ return }\r\n\r\n//     if(eraserEnable){\r\n//       ctx.clearRect(x-10,y-10,20,20);\r\n//     }\r\n//     else{\r\n//         var newPoint ={'x':x,'y':y}\r\n//         drawLine(lastPoint.x,lastPoint.y,newPoint.x,newPoint.y)\r\n//         lastPoint = newPoint\r\n//     }\r\n//   }\r\n//   canvas.ontouchend =function(){  //touch结束\r\n//     usingMouse = false\r\n//   }\r\n// }\r\n// else{                                 //如果不支持touch事件，则执行鼠标事件\r\n//    canvas.onmousedown = function(a){ //鼠标按下事件\r\n//      var x =a.clientX\r\n//      var y =a.clientY\r\n//      usingMouse = true\r\n//      if(eraserEnable){\r\n//        ctx.clearRect(x-10,y-10,20,20);\r\n//      }\r\n//      else{\r\n//        lastPoint = {'x':x,'y':y}\r\n//        // drawPoint(x,y,1)\r\n//      }\r\n//    }\r\n//    canvas.onmousemove =function(a){  //鼠标移动事件\r\n//      var x =a.clientX\r\n//      var y =a.clientY\r\n//      if(!usingMouse){ return }\r\n\r\n//      if(eraserEnable){\r\n//        ctx.clearRect(x-10,y-10,20,20);\r\n//      }\r\n//      else{\r\n//          var newPoint ={'x':x,'y':y}\r\n//          // drawPoint(x,y,1)\r\n//          drawLine(lastPoint.x,lastPoint.y,newPoint.x,newPoint.y)\r\n//          lastPoint = newPoint\r\n//      }\r\n//    }\r\n//    canvas.onmouseup =function(){  //鼠标松开事件\r\n//      usingMouse = false\r\n//    }\r\n//   }\r\n// } \r\n\r\n// var isTouchDevice = \"ontouchstart\" in document.documentElement;\r\n// //手机是否支持触摸\r\n// if (isTouchDevice) {\r\n//   canvas.ontouchstart = e => {\r\n//     let x = e.touches[0].clientX;\r\n//     let y = e.touches[0].clientY;\r\n//     last = [x, y];\r\n//   };\r\n//   canvas.ontouchmove = e => {\r\n//     let x = e.touches[0].clientX;\r\n//     let y = e.touches[0].clientY;\r\n//     drawLine(last[0], last[1], x, y);\r\n//     last = [x, y];\r\n//     // console.log(x, y);\r\n//     // ctx.beginPath();\r\n//     // ctx.arc(x, y, 10, 0, 2 * Math.PI);\r\n//     // ctx.stroke();\r\n//     // ctx.fill();\r\n//   };\r\n// } else {\r\n//   canvas.onmousedown = e => {\r\n//     painting = true;\r\n//     last = [e.clientX, e.clientY];\r\n//   };\r\n// }\r\n\r\n// canvas.onmousemove = e => {\r\n//   if (painting === true) {\r\n//     drawLine(last[0], last[1], e.clientX, e.clientY);\r\n//     last = [e.clientX, e.clientY];\r\n//   } else {\r\n//     console.log(\"什么都不做\");\r\n//   }\r\n// };\r\n\r\n// canvas.onmouseup = () => {\r\n//   painting = false;\r\n// };\r\n// function autoSetCanvasSize(canvas){ //全屏函数\r\n//   resize()\r\n//   window.onresize = function(){  \r\n//     resize()\r\n//   }\r\n//   function resize(){\r\n//     var pageWidth = document.documentElement.clientWidth\r\n//     var pageHeight = document.documentElement.clientHeight\r\n//     canvas.width = pageWidth\r\n//     canvas.height = pageHeight\r\n//   }\r\n// }"]}